<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>MM Mobiles | Place Order</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Plus+Jakarta+Sans:wght@300;500;800&display=swap"
        rel="stylesheet">

    <style>
        :root {
            --primary: #8b5cf6;
            --secondary: #ec4899;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: #030303;
            color: white;
            overflow-x: hidden;
        }

        .font-sync {
            font-family: 'Syncopate', sans-serif;
        }

        /* Mesh background */
        .mesh-bg {
            position: fixed;
            inset: 0;
            background:
                radial-gradient(at 0% 0%, rgba(139, 92, 246, 0.15), transparent 50%),
                radial-gradient(at 100% 100%, rgba(236, 72, 153, 0.15), transparent 50%);
            z-index: -1;
        }

        /* Glass card */
        .glass {
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(25px);
        }

        input,
        textarea,
        select {
            background: transparent;
            outline: none;
        }

        input::placeholder,
        textarea::placeholder {
            color: #777;
        }

        /* CTA glow */
        .cta-glow {
            position: relative;
            overflow: hidden;
        }

        .cta-glow::before {
            content: '';
            position: absolute;
            inset: -120%;
            background: conic-gradient(from 0deg,
                    transparent,
                    var(--primary),
                    var(--secondary),
                    transparent 30%);
            animation: spin 4s linear infinite;
            z-index: -1;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>

    <div class="mesh-bg"></div>

    <!-- NAV -->
    <nav class="fixed top-0 w-full px-6 py-8 flex justify-between items-center z-50 mix-blend-difference">
        <div class="font-sync text-xl font-bold">
            MM <span class="text-violet-500">MOBILES</span>
        </div>
        <a href="index.html" class="text-xs tracking-widest uppercase opacity-60 hover:opacity-100">
            Back
        </a>
    </nav>

    <!-- PAGE -->
    <section class="min-h-screen pt-32 pb-20 px-6 flex justify-center">

        <div class="max-w-6xl w-full grid grid-cols-1 lg:grid-cols-2 gap-14">

            <!-- LEFT -->
            <div class="space-y-6">

                <h2 class="font-sync text-xs tracking-[0.5em] text-violet-400 uppercase">
                    Checkout
                </h2>

                <h1 class="text-4xl md:text-5xl font-black tracking-tight">
                    Complete your order.
                </h1>

                <p class="text-gray-400 max-w-md">
                    Upload your design, enter delivery details and pay securely using UPI QR.
                </p>

                <!-- Preview -->
                <div
                    class="glass rounded-3xl p-4 mt-8 aspect-[9/19] w-56 border border-white/10 overflow-hidden flex items-center justify-center">

                    <img id="previewImage" class="hidden w-full h-full object-cover rounded-2xl" />

                    <span id="previewText" class="text-xs tracking-widest opacity-50 uppercase">
                        Design Preview
                    </span>
                </div>
            </div>

            <!-- FORM -->
            <div class="space-y-6">

                <form id="orderForm" class="glass rounded-3xl p-8 space-y-6">

                    <div>
                        <label class="text-xs tracking-widest uppercase opacity-60">
                            Full Name
                        </label>
                        <input id="name" required class="w-full border-b border-white/10 py-3 mt-2"
                            placeholder="John Doe" />
                    </div>

                    <div>
                        <label class="text-xs tracking-widest uppercase opacity-60">
                            Mobile Number
                        </label>
                        <input id="phone" required class="w-full border-b border-white/10 py-3 mt-2"
                            placeholder="+91 98765 43210" />
                    </div>

                    <div>
                        <label class="text-xs tracking-widest uppercase opacity-60">
                            Phone Model
                        </label>
                        <select id="model" class="w-full border-b border-white/10 py-3 mt-2">
                            <option>iPhone 15</option>
                            <option>iPhone 14</option>
                            <option>Samsung S24</option>
                            <option>Samsung S23</option>
                            <option>OnePlus</option>
                            <option>Others</option>
                        </select>
                    </div>

                    <div>
                        <label class="text-xs tracking-widest uppercase opacity-60">
                            Upload Design Image
                        </label>
                        <input id="designImage" type="file" accept="image/*" class="mt-3 block w-full text-sm
                            file:mr-4 file:py-2 file:px-4
                            file:rounded-xl file:border-0
                            file:bg-violet-600/20
                            file:text-white
                            hover:file:bg-violet-600/40
                            cursor-pointer">
                    </div>

                    <div>
                        <label class="text-xs tracking-widest uppercase opacity-60">
                            Delivery Address
                        </label>
                        <textarea id="address" rows="3" required
                            class="w-full border-b border-white/10 py-3 mt-2 resize-none"
                            placeholder="House, Street, City, Pincode"></textarea>
                    </div>

                    <!-- PRICE -->
                    <div class="glass rounded-2xl p-5 flex justify-between items-center">
                        <span class="tracking-widest uppercase text-xs opacity-70">
                            Total
                        </span>
                        <span class="text-2xl font-black text-violet-400">
                            ₹799
                        </span>
                    </div>

                    <!-- PAY -->
                    <button type="submit" class="cta-glow p-[2px] rounded-2xl w-full">
                        <div class="bg-black/80 py-4 rounded-xl tracking-widest uppercase text-center font-bold">
                            Pay Using QR
                        </div>
                    </button>

                </form>

                <!-- QR SECTION -->
                <div id="qrSection" class="hidden glass rounded-3xl p-8 text-center space-y-6">

                    <h3 class="font-sync text-xs tracking-[0.4em] uppercase text-violet-400">
                        Scan & Pay
                    </h3>

                    <img id="qrImage" class="w-64 mx-auto rounded-2xl border border-white/10">

                    <p class="text-gray-400 text-sm">
                        Scan with any UPI app and complete payment.
                    </p>

                    <button id="paidBtn" class="cta-glow p-[2px] rounded-2xl w-full">
                        <div class="bg-black/80 py-4 rounded-xl tracking-widest uppercase">
                            I Have Paid
                        </div>
                    </button>
                </div>

            </div>

        </div>
    </section>

    <script>
        // entrance animation
        gsap.from("h1, p, form, .glass", {
            y: 40,
            opacity: 0,
            stagger: 0.08,
            duration: 1.1,
            ease: "expo.out"
        });

        // image preview
        const imgInput = document.getElementById("designImage");
        const preview = document.getElementById("previewImage");
        const previewText = document.getElementById("previewText");

        imgInput.addEventListener("change", () => {
            const file = imgInput.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = () => {
                preview.src = reader.result;
                preview.classList.remove("hidden");
                previewText.classList.add("hidden");
            };
            reader.readAsDataURL(file);
        });

        // UPI QR generation
        const amount = 799;
        const upiId = "mmmobiles@upi";     // CHANGE THIS
        const payee = "MM Mobiles";

        const upiLink =
            `upi://pay?pa=${upiId}&pn=${encodeURIComponent(payee)}&am=${amount}&cu=INR&tn=Custom%20Mobile%20Case`;

        const qrUrl =
            `https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(upiLink)}`;

        document.getElementById("qrImage").src = qrUrl;

        // show QR
        document.getElementById("orderForm").addEventListener("submit", e => {
            e.preventDefault();
            document.getElementById("qrSection").classList.remove("hidden");
            window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
        });

        // WhatsApp confirmation
        document.getElementById("paidBtn").addEventListener("click", () => {

            const name = document.getElementById("name").value;
            const phone = document.getElementById("phone").value;
            const model = document.getElementById("model").value;
            const address = document.getElementById("address").value;

            const message =
                `✅ *MM Mobiles Order*

Name: ${name}
Phone: ${phone}
Model: ${model}
Address: ${address}

Amount Paid: ₹799
Payment Mode: UPI QR

(Transaction ID will be shared)
`;
            window.open(
                "https://wa.me/918261056157?text=" +
                encodeURIComponent(message),
                "_blank"
            );
        });
    </script>

</body>

</html>